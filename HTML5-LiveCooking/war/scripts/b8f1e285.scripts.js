"use strict";angular.module("feTeil2App",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainController"}).when("/album",{templateUrl:"views/album.html",controller:"AlbumController"}).otherwise({redirectTo:"/"})}]).service("backendAdapter",["$q","$http",function(a,b){var c="/backend",d=c+"/album",e=d+"/create/",f=d+"/load/";return{createAlbum:function(a){return b.get(e+a).then(function(a){var b=a.data;return b})},loadAlbum:function(a){return b.get(f+a).then(function(a){return a.data})}}}]).service("albumService",["backendAdapter",function(a){return{createAlbum:function(b){var c=b?b:"unbenannt";return a.createAlbum(c)},loadAlbum:function(b){return a.loadAlbum(b)}}}]).controller("Foto2GetherController",["$rootScope",function(a){a.album={},a.album.name=""}]).controller("MainController",["$scope","albumService","$location",function(a,b,c){a.createAlbum=function(){a.creatingAlbum=!0;var d=b.createAlbum(a.album.name);d.then(function(a){c.path("/album"),c.hash(a.id)},function(){}),d["finally"](function(){a.creatingAlbum=!1})}}]).controller("AlbumController",["$rootScope","$location","albumService",function(a,b,c){var d=b.hash(),e=c.loadAlbum(d);e.then(function(b){a.album=b},function(){b.path("/"),b.hash(null)})}]);